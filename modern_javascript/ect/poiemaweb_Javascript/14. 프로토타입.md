# [14. 프로토타입](https://poiemaweb.com/js-prototype)

출처 : [poiemaweb](https://poiemaweb.com/)

## 1. 프로토타입 객체

자바스크립트는 **프로토타입 기반 객체지향 프로그래밍 언어**이다.

자바스크립트의 모든 객체는 자신의 부모 역할을 담당하는 객체 (**Prototype 객체**)와 연결되어 있다. 이 프로토타입 객체의 프로퍼티 혹은 메소드를 상속받아 객체지향의 상속과 유사하게 사용할 수 있다.

### [[Prototype]]

- 자바스크립트의 모든 객체는 모든 객체는 `[[Prototype]]` 이라는 인터널 슬롯(internal slot)를 가진다. [[Prototype]]의 값은 null 또는 객체이며 상속을 구현하는데 사용된다.

- [[Prototype]] 객체의 데이터 프로퍼티는 get 액세스를 위해 상속되어 자식 객체의 프로퍼티처럼 사용할 수 있지만, set 액세스는 허용되지 않는다.
- [[Prototype]]의 값은 Prototype 객체이며 `__proto__` accessor property 로 접근할 수 있다.  `__proto__` 프로퍼티에 접근하면 내부적으로 [Object.getPrototypeOf](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf) 가 호출되어 프로토타입 객체를 반환한다.

```js
var student = {
  name: 'Lee',
  score: 90
}
console.log(student.__proto__ === Object.prototype); // true
```

프로토타입 객체는 객체를 생성할 때 결정되지만, 결정된 프로토타입 객체는 다른 임의의 객체로 변경할 수 있다. 부모 객체를 동적으로 변경할 수 있는 이런 특성을 활용하여 객체의 상속을 구현할 수 있다.

## 2. [[Prototype]] vs prototype 프로퍼티

함수도 객체이므로 [[Prototype]] 인터널 슬롯을 가지지만, 함수 객체는 일반 객체와는 달리 **protototype** 프로퍼티도 소유하게 된다. prototype 프로퍼티는 프로토타입 객체를 가리키는 [[Prototype]] 인터널 슬롯과는 관점의 차이가 있다.

```js
function Person(name) {
  this.name = name;
}
var foo = new Person('Lee')
```

#### [[Prototype]]

- 모든 객체 (함수 포함)가 가지고 있는 인터널 슬롯이며, `__proto__`  프로퍼티로 접근할 수 있다.
- 객체의 입장에서 자신의 부모 객체인 프로토타입 객체를 가리키며, 함수 객체의 경우 `Function.prototype` 을 가리킨다.

```js
console.log(Person.__proto__ === Function.prototype) // true
```

#### prototype 프로퍼티

- 함수 객체만 가지고 있는 프로퍼티이다.
- 함수 객체가 생성자로 사용될 때, 이 함수를 통해 생성될 객체의 프로토타입 객체를 가리킨다.

```js
console.log(Person.prototype === foo.__proto__)
```

